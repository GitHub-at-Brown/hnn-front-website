<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HNN Textbook</title>
    <!-- <base href="/website_redesign/"> -->
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
</head>
<body>

<div id="main">
    <div class="topbar">
        <div id="topbar-wrapper">
            <div class="links">
                <a href="https://jonescompneurolab.github.io/hnn-core/stable/index.html#Installation">Install</a>
                <a href="https://dylansdaniels.github.io/website_redesign/content/01_under_the_hood/primary_electric_currents.html">Tutorials</a>
                <a href="https://jonescompneurolab.github.io/hnn-core/stable/index.html">Documentation</a>
                <a href="">Help</a>
            </div>

            <!-- Right side of topbar-->
            <div class="topbar-right">
                <div class="dropdown">
                    <button id="dropdownButton" class="dropdown-button">
                        <span class="dropdown-text">
                            <span>More</span>
                            <span class="caret"></span>
                        </span>
                    </button>
                    <div class="dropdown-content">
                        <a href="">Developers</a>
                        <a href="">Publications</a>
                        <a href="https://github.com/jonescompneurolab/hnn-core/discussions/categories/announcements">Announcements</a>
                        <a href="">Contact Us</a>
                    </div>
                </div>
                <div class="social-icons">
                    <a href="https://github.com/jonescompneurolab/hnn-core" target="_blank" aria-label="GitHub">
                        <img src="icons/github.png" alt="GitHub">
                    </a>
                    <a href="https://bsky.app/profile/hnnsolver.bsky.social" target="_blank" aria-label="BlueSky">
                        <img src="icons/bluesky.png" alt="BlueSky">
                    </a>
                    <a href="https://www.linkedin.com/company/human-neocortical-neurosolver/" target="_blank" aria-label="LinkedIn">
                        <img src="icons/linkedin.png" alt="LinkedIn">
                    </a>
                </div>
            </div>


        </div>
    </div>

    <div id="content-wrapper">
        <div id="content">
            <!--
            # Title: Homepage
            # Updated: 2024-01-14
            #
            # Contributors:
                # Dylan Daniels
            -->
            <br>

            <h2 style="text-align: center;">
                Active Development Team
            </h2>
            
            <div class="dev-grid">
                <div class="dev-card">
                    <img data-github="stephanie-r-jones" alt="Stephanie R. Jones" />
                    <div class="name">Stephanie R. Jones</div>
                    <div class="position">Principal Investigator</div>
                </div>
                <div class="dev-card">
                    <img data-github="jasmainak" alt="Mainak Jas" />
                    <div class="name">Mainak Jas</div>
                    <div class="position">Developer</div>
                </div>
                <div class="dev-card">
                    <img data-github="ntolley" alt="Nicholas Tolley" />
                    <div class="name">Nicholas Tolley</div>
                    <div class="position">Developer</div>
                </div>
                <div class="dev-card">
                    <img data-github="dylansdaniels" alt="Dylan Daniels" />
                    <div class="name">Dylan Daniels</div>
                    <div class="position">Developer</div>
                </div>
                <div class="dev-card">
                    <img data-github="asoplata" alt="Austin Soplata" />
                    <div class="name">Austin Soplata</div>
                    <div class="position">Developer</div>
                </div>
                <div class="dev-card">
                    <img data-github="carolinafernandezp" alt="Carolina Fernandez" />
                    <div class="name">Carolina Fernandez</div>
                    <div class="position">Developer</div>
                </div>
                <div class="dev-card">
                    <img data-github="katduecker" alt="Katharina Duecker" />
                    <div class="name">Katharina Duecker</div>
                    <div class="position">Developer</div>
                </div>
            </div>

            <br>
            <h2 style="text-align: center;">
                All Developers
            </h3>

            <div class="dev-grid inactive">
                <div class="dev-card">
                    <img data-github="rythorpe" alt="Ryan Thorpe" />
                    <div class="name" name-tooltip="Ryan Thorpe" title="Ryan Thorpe">Ryan Thorpe</div>
                </div>
                <div class="dev-card">
                    <img data-github="samnemo" alt="Sam Neymotin" />
                    <div class="name" name-tooltip="Sam Neymotin">Sam Neymotin</div>
                </div>
                <div class="dev-card">
                    <img data-github="blakecaldwell" alt="Blake Caldwell" />
                    <div class="name" name-tooltip="Blake Caldwell">Blake Caldwell</div>
                </div>
                <div class="dev-card">
                    <img data-github="cjayb" alt="Chris Bailey" />
                    <div class="name" name-tooltip="Chris Bailey">Chris Bailey</div>
                </div>
                <div class="dev-card">
                    <img data-github="gtdang" alt="George Dang" />
                    <div class="name" name-tooltip="George Dang">George Dang</div>
                </div>
                <div class="dev-card">
                    <img data-github="chenghuzi" alt="Huzi Cheng" />
                    <div class="name" name-tooltip="Huzi Cheng">Huzi Cheng</div>
                </div>
                <div class="dev-card">
                    <img data-github="samadpls" alt="Abdul Samad Siddiqui" />
                    <div class="name">Abdul Samad Siddiqui</div>
                </div>
                <div class="dev-card">
                    <img data-github="smpuglie" alt="Sarah Pugliese" />
                    <div class="name" name-tooltip="Sarah Pugliese">Sarah Pugliese</div>
                </div>
            </div>            
                
            <br>
            <h2 style="text-align: center;">
                Additional Contributors
            </h2>

            <br>
            <h2 style="text-align: center;">
                Collaborators
            </h2>
            <div class="collaborators">
                <ul>
                    <li>Matti Hamalainen (co-PI), MGH</li>
                    <li>Michael Hines (co-PI), Yale</li>
                    <li>Noam Peled, MGH</li>
                    <li>Ted Carnevale, Yale</li>
                    <li>Robert McDougal, Yale</li>
                    <li>Christopher Moore, Brown</li>
                    <li>Amitava Majumdar, SDSC</li>
                    <li>Kenneth Yoshimoto, SDSC</li>
                    <li>Subhashini Sivagnanam, SDSC</li>
                    <li>Salvador Dura-Bernal, SUNY Downstate</li>
                    <li>Matteo Cantarelli, Metacell</li>
                </ul>
            </div>
            
            <br><br>

        </div> <!-- close content -->
    </div> <!-- close content wrapper -->
</div> <!-- close main -->

<script>
    // ----------------------- //
    // --- Developer Table --- //
    // ----------------------- //

    // Get GitHub images //
    // ----------------- //
// Load images from repo, fallback to GitHub if not found
document.querySelectorAll('img[data-github]').forEach(img => {
    const user = img.getAttribute('data-github');
    if (!user) {
        img.src = 'default.png'; // fallback image
        return;
    }

    const repoURL = `https://raw.githubusercontent.com/jonescompneurolab/jones-website/refs/heads/master/images/developers/${user}.png`;
    const githubURL = `https://github.com/${user}.png`;

    const testImage = new Image();
    testImage.onload = () => {
        img.src = repoURL;
    };
    testImage.onerror = () => {
        img.src = githubURL;
    };
    testImage.src = repoURL;
});


    // Set section width //
    // ----------------- //
    window.addEventListener("load", () => {
        const activeCards = document.querySelectorAll(".dev-grid:not(.inactive) .dev-card");

        activeCards.forEach(card => {
            const name = card.querySelector('.name');
            const image = card.querySelector('img');

            const imageWidth = image.offsetWidth;
            const nameScrollWidth = name.scrollWidth;
            const baseWidth = Math.max(imageWidth, 0); // fallback in case

            if (nameScrollWidth > baseWidth) {
                // Name is wider than image â†’ expand card
                card.style.width = `${nameScrollWidth + 20}px`;
            } else {
                // Otherwise match image width (plus padding if you want)
                card.style.width = `${imageWidth + 20}px`;
            }
        });
    });

    // // Tooltips for names //
    // // ------------------ //
    // document.querySelectorAll('.dev-card .name').forEach(nameElement => {
    // const originalText = nameElement.textContent;
    // const checkOverflow = () => {
    //     // Check if the name is overflowing
    //     const isOverflowing = nameElement.scrollWidth > nameElement.clientWidth;

    //     if (isOverflowing && !nameElement.querySelector('a')) {
    //         // Create the anchor tag when the name overflows
    //         const anchor = document.createElement('a');
    //         anchor.setAttribute('href', 'javascript:void(0)');
    //         anchor.setAttribute('tabindex', '-1');
    //         anchor.setAttribute('name-tooltip', originalText);
    //         anchor.textContent = originalText;
    //         nameElement.innerHTML = '';  // Clear the name element
    //         nameElement.appendChild(anchor);
    //     } else if (!isOverflowing && nameElement.querySelector('a')) {
    //         // Remove the anchor tag if the name is no longer overflowing
    //         nameElement.innerHTML = originalText;  // Restore original text
    //     }
    // };

    // // Check overflow initially and on window resize
    // checkOverflow();
    //     window.addEventListener('resize', checkOverflow);
    // });

    // (() => {
    //     let tooltipVisible = false;

    //     document.querySelectorAll('.dev-card .name a[name-tooltip]').forEach(link => {
    //         // on hover-in
    //         link.addEventListener('mouseenter', () => {
    //         // only if truly truncated and no tooltip is up
    //         if (tooltipVisible) return;
    //         // delay showing
    //         link._tt = setTimeout(() => {
    //             // remove old
    //             document.querySelectorAll('.name-tooltip').forEach(t => t.remove());
    //             // build new
    //             const tip = document.createElement('div');
    //             tip.className = 'name-tooltip';
    //             tip.innerText = link.getAttribute('name-tooltip');
    //             document.body.appendChild(tip);
    //             // position below link
    //             const r = link.getBoundingClientRect();
    //             tip.style.position = 'absolute';
    //             tip.style.left = `${r.left + window.scrollX}px`;
    //             tip.style.top  = `${r.bottom + window.scrollY + 4}px`;
    //             // fade in
    //             requestAnimationFrame(() => { tip.style.opacity = '1'; });
    //             tooltipVisible = true;
    //         }, 300);  // delay in ms
    //         });

    //         // on hover-out
    //         link.addEventListener('mouseleave', () => {
    //             clearTimeout(link._tt);
    //             document.querySelectorAll('.name-tooltip').forEach(t => t.remove());
    //             tooltipVisible = false;
    //         });
    //     });
    // })();

// Tooltips for names and positions //
// --------------------------------- //
document.querySelectorAll('.dev-card .name, .dev-card .position').forEach(textElement => {
    const originalText = textElement.textContent;  // Store the original text
    const checkOverflow = () => {
        // Check if the text is overflowing
        const isOverflowing = textElement.scrollWidth > textElement.clientWidth;

        if (isOverflowing && !textElement.querySelector('a')) {
            // Create the anchor tag when the text overflows
            const anchor = document.createElement('a');
            anchor.setAttribute('href', 'javascript:void(0)');
            anchor.setAttribute('tabindex', '-1');
            anchor.setAttribute('name-tooltip', originalText);
            anchor.textContent = originalText;
            textElement.innerHTML = '';  // Clear the text element
            textElement.appendChild(anchor);
        } else if (!isOverflowing && textElement.querySelector('a')) {
            // Remove the anchor tag if the text is no longer overflowing
            textElement.innerHTML = originalText;  // Restore original text
        }
    };

    // Check overflow initially and on window resize
    window.addEventListener('load', checkOverflow);
    window.addEventListener('resize', checkOverflow);
});

(() => {
    let tooltipVisible = false;

    // Delegate hover events
    document.addEventListener('mouseenter', (e) => {
        const link = e.target.closest('.dev-card .name a[name-tooltip], .dev-card .position a[name-tooltip]');
        if (!link) return;
        if (tooltipVisible) return;

        link._tt = setTimeout(() => {
            document.querySelectorAll('.name-tooltip').forEach(t => t.remove());

            const tip = document.createElement('div');
            tip.className = 'name-tooltip';
            tip.innerText = link.getAttribute('name-tooltip');
            document.body.appendChild(tip);

            const r = link.getBoundingClientRect();
            tip.style.position = 'absolute';
            tip.style.left = `${r.left + window.scrollX}px`;
            tip.style.top = `${r.bottom + window.scrollY + 4}px`;

            requestAnimationFrame(() => { tip.style.opacity = '1'; });
            tooltipVisible = true;
        }, 300);  // 300ms delay
    }, true);

    document.addEventListener('mouseleave', (e) => {
        const link = e.target.closest('.dev-card .name a[name-tooltip], .dev-card .position a[name-tooltip]');
        if (!link) return;

        clearTimeout(link._tt);
        document.querySelectorAll('.name-tooltip').forEach(t => t.remove());
        tooltipVisible = false;
    }, true);
})();



    // ------------------- //
    // --- Card Popups --- //
    // ------------------- //
    const cards = document.querySelectorAll('.card');
    const popups = document.querySelectorAll('.popup-container');

    // Show popup on card click
    cards.forEach(card => {
        card.addEventListener('click', () => {
            const popupId = card.getAttribute('data-popup');
            const popup = document.getElementById(popupId);
            if (popup) {
                popup.classList.add('show'); // add 'show' class to display the popup
                document.body.style.overflow = 'hidden'; // disable body scrolling

                // Reset scroll position when the popup is opened
                const popupBox = popup.querySelector('.popup-box');
                if (popupBox) {
                    popupBox.scrollTop = 0; // Set scroll position to the top
                }
            }
        });
    });

    // Close popup on close button click
    document.querySelectorAll('.popup-close').forEach(button => {
        button.addEventListener('click', () => {
            const popupContainer = button.closest('.popup-container');
            if (popupContainer) {
                popupContainer.classList.remove('show'); // Remove 'show' class to hide the popup
                document.body.style.overflow = ''; // Re-enable body scrolling
            }
        });
    });

    // Close popup on outside click
    popups.forEach(popup => {
        popup.addEventListener('click', (e) => {
            if (e.target === popup) { // Check if the click is outside the popup content
                popup.classList.remove('show'); // Remove 'show' class to hide the popup
                document.body.style.overflow = ''; // Re-enable body scrolling
            }
        });
    });

</script>

</body>
</html>